### 加密与认证

加密是使用特殊的方式将数据资料进行编码，使得非法用户即时取得该加密信息，也无法获取真正的资料内容。因此数据加密可以保护数据，防止监听攻击等。其重点在于数据的安全性。

认证多指的是身份认证，它用来判断某个身份的真实性。身份通过认证后，系统才可以依照不同的身份，给予不同的权限。其目的在于鉴别用户的真实性。

### 非对称加密

在现代密码体系中，加密和解密是采用不同的密钥分别进行的，也就是俗称的非对称密钥密码系统，它所采用的是非对称加密算法。每个通信方均需要两个密钥，即公钥与私钥，这两把密钥可以互为加解密。

公钥是公开的，不需要保密；而私钥是由个人持有的，必须妥善保管与保密。

公钥与私钥的原则：
1. 一个公钥对应一个私钥；
2. 密钥对中，让大家都知道的是公钥；不能公开的、只有自己知道的是私钥；
3. 如果用其中一个密钥对数据进行加密处理，则必定只有对应的另一个密钥才能对数据进行解密处理；
4. 如果用其中一个密钥可以对数据进行解密，则该数据必然是对应着另一个密钥所进行加密的。

非对称密钥密码的主要应用，就是**公钥加密**和**公钥认证**，而公钥加密的过程和公钥认证的过程是不一样的。

### 基于公钥的加密过程

假如有两个用户 Alice 和 Bob，Alice 需要把一段明文，通过双钥加密技术发送给 Bob，Bob 有一对公钥和私钥，那么加密、解密的过程如下：
1. Bob 将他的公钥传送给 Alice；
2. Alice 使用 Bob 的公钥加密她的消息，并传送给 Bob；
3. Bob 使用他的私钥解密 Alice 的消息。

<div align="center"><img src="images/Public-Key%20Cryptography.images/Snipaste_2024-03-12_20-56-08.png" alt="Snipaste_2024-03-12_20-56-08" style="width:50%;" /></div>

### 基于公钥的认证过程

认证的过程不同于加密，主要用于鉴别用户的真伪。只需要鉴别一个用户的私钥是正确的，就可以鉴别这个用户的真伪。

假如仍然有两个用户 Alice 和 Bob，Alice 需要让 Bob 知道自己是 Alice，而不是假冒的。因此 Alice 需要使用自己的私钥对文件进行签名，并发送给 Bob，Bob使用 Alice 的公钥对文件进行解密，如果解密成功，则证明 Alice 的私钥是正确的，从而完成了对 Alice 的身份认证。认证过程如下：
1. Alice 使用私钥对文件进行加密，从而对文件进行签名；
2. Alice 将签名的文件传送给 Bob；
3. Bob 使用 Alice 的公钥解密文件，从而验证签名。

<div align="center"><img src="images/Public-Key%20Cryptography.images/Snipaste_2024-03-12_20-56-24.png" alt="Snipaste_2024-03-12_20-56-24" style="width:50%;" /></div>

### 疑难梳理

关于公钥和私钥的使用，你会发现无论是公钥还是私钥实际上都能应用在加解密文档上。那是不是实际上公钥和私钥是没有区别的？答案是否定的。

对于非对称加密，公钥和私钥的加解密过程是不一样的。因此类似一些支持 SSH 的服务器，它们仅仅支持公钥加解密。这意味着即使你可以将你的私钥上传到服务器上，服务器也不能够使用你的私钥对文件进行加解密，因为服务器使用私钥加解密时，必然会出现在流程上的加解密错误。

同样的，从开发者角度出发，公钥和私钥的区分是十分有必要的。这意味着对于加解密流程来说，你的服务仅仅需要编写一套针对公钥加解密的代码即可。

私钥对于非对称加密来说是十分重要且不可外泄的，私钥的持有对象可以说是有且仅有你自己，但公钥则可以给许多其他的人持有，这实际上很贴合私钥与公钥的命名逻辑。

**对于非对称加密来说，不必要了解公私钥加解密的流程。只要属于非对称加密且加解密使用的算法一致，那么加解密的过程必然是固定不变且不可能出错的。**

几乎所有语言都有非对称加密算法的库或模块，非必要则无需自行实现。

### 其他算法

这些非对称加密算法各自有不同的应用场景和性能特点，选择适当的算法取决于具体的安全需求和性能要求。在实际应用中，通常会使用混合加密方法，结合对称加密和非对称加密来获得更好的性能和安全性。

- **RSA（Rivest-Shamir-Adleman）**：RSA 是最常用的非对称加密算法之一。它基于大素数分解问题，广泛用于加密通信、数字签名和密钥交换；
- **DSA（Digital Signature Algorithm）**：DSA 主要用于数字签名。它基于离散对数问题，适用于验证数据的完整性和真实性；
- **ECDSA（Elliptic Curve Digital Signature Algorithm）**：ECDSA 是一种基于椭圆曲线的数字签名算法，它在相对较短的密钥长度下提供了与传统算法相似的安全性，因此在资源受限的环境中更受欢迎；
- **ElGamal**：ElGamal 是一种基于离散对数问题的非对称加密算法，主要用于密钥交换和加密通信；
- **Diffie-Hellman（DH）**：Diffie-Hellman 是一种密钥交换协议，它允许两个通信方在不共享密钥的情况下协商共享密钥。它的安全性基于离散对数问题；
- **ECDH（Elliptic Curve Diffie-Hellman）**：ECDH 是一种基于椭圆曲线的密钥交换协议，用于协商共享密钥；
- **LWE（Learning With Errors）**：LWE 是一种基于格的加密技术，被认为是一种后量子密码学的候选算法，因为它的安全性不依赖于大整数分解或离散对数问题，而是依赖于一种新的数学难题；
- **NTRUEncrypt**：NTRUEncrypt 是一种基于格的非对称加密算法，也被认为是一种后量子密码学的候选算法，它的安全性基于 NTRU 问题。

其中，最常用的加密算法应该是 RSA 算法。